@model HomeController.DetailProductModal
@{
    var url = ViewData["curenturl"] as string;

    var format = System.Globalization.CultureInfo.GetCultureInfo("vi-VN");
    ViewData["Title"] = $"{Model.Product.Title} - Cá Giống Đại Dương";
    ViewData["description"] = Model.Product.Description;
}


@section Meta{
    <meta property="og:url" content="@url" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="@Model.Product.Title" />
    <meta property="og:description" content="@Model.Product.Description" />
    <meta property="og:image" content="@Model.Product.ImageURL" />
}

@section Links{

    <link href="~/css/search-autocomplete.css" rel="stylesheet" />
    <link href="~/css/hotline.css" rel="stylesheet" />
    <link href="~/css/detail-product.css" rel="stylesheet" />
    <link href="~/css/aside-outstanding-product.css" rel="stylesheet" />
    <link href="~/css/gird-card-product.css" rel="stylesheet" />
   

}

@section breadcrumb{

 <li class="breadcrumb-item active" aria-current="page">@Model.Product.Name</li>
}
<div class="container">
    <div class="row product-detail">
        <div class="col-md-9">
            <div class="row">
                <div class="col-md-6">
                    <div class="product-img--main" data-scale="1.6" data-image="@Model.Product.ImageURL">
                    </div>
                </div>
                <div class="col-md-6">
                   
                        <h1 class="title-product">@Model.Product.Title</h1>

                        <div class="product-rating">
                            <i class="bi bi-star"></i>
                            <i class="bi bi-star"></i>
                            <i class="bi bi-star"></i>
                            <i class="bi bi-star"></i>
                            <i class="bi bi-star"></i>
                            <span>4.7(21)</span>
                        </div>


                        <div class="description-product">
                            <p>
                                <span class="short-description-product">Mô tả ngắn</span> :
                                @if (@Model.Product.Description is null)
                                {
                                    <span>Chưa có thông tin mô tả</span>
                                }
                                else

                                    @Model.Product.Description

                                </p>
                            </div>

                            <div class="row">
                                <div class="col-md-6">
                                    <div class="contact-number">
                                        <div class="icon-box">
                                            <i class="bi bi-phone-vibrate"></i>
                                        </div>
                                        <a href="tel:0903032767">0903.032.767</a>
                                        @if (Model.Product.IsActive)
                                    {
                                        <p class="text-success mb-3">
                                            Đang kinh doanh
                                        </p>
                                    }
                                    else
                                    {
                                        <p class="text-danger mb-3">
                                            Ngừng kinh doanh
                                        </p>
                                    }
                                </div>
                            </div>
                            <div class="col-md-6 feedback-product">
                                <button type="button" class="btn btn-sm btn-outline-primary" data-bs-toggle="collapse" href="#collapseExample" role="button" aria-expanded="false" aria-controls="collapseExample">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chat-dots" viewBox="0 0 16 16">
                                        <path d="M5 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0m4 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0m3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2"></path>
                                        <path d="m2.165 15.803.02-.004c1.83-.363 2.948-.842 3.468-1.105A9 9 0 0 0 8 15c4.418 0 8-3.134 8-7s-3.582-7-8-7-8 3.134-8 7c0 1.76.743 3.37 1.97 4.6a10.4 10.4 0 0 1-.524 2.318l-.003.011a11 11 0 0 1-.244.637c-.079.186.074.394.273.362a22 22 0 0 0 .693-.125m.8-3.108a1 1 0 0 0-.287-.801C1.618 10.83 1 9.468 1 8c0-3.192 3.004-6 7-6s7 2.808 7 6-3.004 6-7 6a8 8 0 0 1-2.088-.272 1 1 0 0 0-.711.074c-.387.196-1.24.57-2.634.893a11 11 0 0 0 .398-2"></path>
                                    </svg>
                                    Đặt mua
                                </button>
                                <button type="button" class="btn btn-sm btn-outline-danger">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chat-heart" viewBox="0 0 16 16">
                                        <path fill-rule="evenodd" d="M2.965 12.695a1 1 0 0 0-.287-.801C1.618 10.83 1 9.468 1 8c0-3.192 3.004-6 7-6s7 2.808 7 6-3.004 6-7 6a8 8 0 0 1-2.088-.272 1 1 0 0 0-.711.074c-.387.196-1.24.57-2.634.893a11 11 0 0 0 .398-2m-.8 3.108.02-.004c1.83-.363 2.948-.842 3.468-1.105A9 9 0 0 0 8 15c4.418 0 8-3.134 8-7s-3.582-7-8-7-8 3.134-8 7c0 1.76.743 3.37 1.97 4.6a10.4 10.4 0 0 1-.524 2.318l-.003.011a11 11 0 0 1-.244.637c-.079.186.074.394.273.362a22 22 0 0 0 .693-.125M8 5.993c1.664-1.711 5.825 1.283 0 5.132-5.825-3.85-1.664-6.843 0-5.132"></path>
                                    </svg>
                                    Yêu thích
                                </button>

                            </div>

                        </div>

                        <div class="product-price">
                            @if (Model.Product.Specifications?.Count > 0)
                            {
                                @foreach (var item in Model.Product.Specifications)
                                {
                                    <ul>
                                        <li>
                                            <span>Kích thước @item.Size con/kí giá @String.Format(format ,"{0:c0}", item.Price )</span>
                                        </li>
                                    </ul>

                                }

                            }
                            else
                            {

                                <span class="text-primary fw-bold">Giá : Thoả thuận</span>
                            }

                        </div>

                        <div class="shared-product">
                            <div class="lenovo-brand ml-4">
                                <div class="share-button mr-5" style="min-height: 40px;">
                                    <div id="fb-root"></div>
                                    <script src="~/js/shared-facebook.js"></script>

                                    <!-- Your share button code -->
                                    <div class="fb-share-button"
                                         data-href="@url"
                                         data-layout="button_count">
                                    </div>
                                </div>
                            </div>
                        </div>


                    </div>
            </div>

            <div class="collapse mt-2" id="collapseExample">
                <form id="submit-information" method="post" asp-action="SubmitOrderInformation">
                    <div class="row container order-product-detail-container">
                        <h5 class="mb-3 order-product-detail">Thông tin người đặt</h5>

                        @Html.HiddenFor(x => x.OrderInformation.ProductID)

                        @Html.HiddenFor(x => x.OrderInformation.ProductSlug)

                        <div class="col-md-5">
                            <div class="mb-3">
                                <label asp-for="@Model.OrderInformation.CustomerName" class="form-label"></label>
                                <input asp-for="@Model.OrderInformation.CustomerName" class="form-control">
                                <p class="mt-2 text-danger"><span asp-validation-for="@Model.OrderInformation.CustomerName"></span></p>
                            </div>
                            <div class="mb-3">
                                <label asp-for="@Model.OrderInformation.CustomerCity" class="form-label"></label>
                                <input asp-for="@Model.OrderInformation.CustomerCity" class="form-control">
                                <p class="mt-2 text-danger"><span asp-validation-for="@Model.OrderInformation.CustomerCity"></span></p>
                            </div>
                            <div class="mb-3">
                                <label asp-for="@Model.OrderInformation.CustomerAddress" class="form-label"></label>
                                <input asp-for="@Model.OrderInformation.CustomerAddress" class="form-control">
                                <p class="mt-2 text-danger"><span asp-validation-for="@Model.OrderInformation.CustomerAddress"></span></p>
                            </div>

                            <div class="mb-3">
                                <label asp-for="@Model.OrderInformation.PhoneNumber" class="form-label"></label>
                                <input asp-for="@Model.OrderInformation.PhoneNumber" class="form-control">
                                <p class="mt-2 text-danger"><span asp-validation-for="@Model.OrderInformation.PhoneNumber"></span></p>
                            </div>

                        </div>
                        <div class="col-md-5">

                            @if (Model.Product.Specifications?.Count > 0)
                            {
                                <div class="mt-4">
                                    <label class="form-label">Chọn kích thước</label>
                                    <select class="form-select" asp-for="@Model.OrderInformation.SpecificationID"
                                            asp-items="@(new SelectList(Model.SelectSizes,"ID","Name"))">

                                        <option value="">--Thương Lượng--</option>

                                    </select>
                                    <p class="mt-2 text-red-600 dark:text-red-500"><span asp-validation-for="@Model.OrderInformation.SpecificationID" class="font-medium"></span></p>

                                </div>
                            }

                            <div class="mb-3">
                                <label asp-for="@Model.OrderInformation.Description" class="form-label"></label>
                                <textarea class="form-control" asp-for="@Model.OrderInformation.Description" rows="3" placeholder="Tối đa 350 kí tự"></textarea>
                            </div>
                            <button type="submit" class="btn btn-primary">Đặt mua</button>
                            <div asp-validation-summary="ModelOnly" class="mt-2 text-red-600 dark:text-red-500" role="alert"></div>

                        </div>
                    </div>
                </form>

            </div>
            <div class="mt-3 post-content-product">
                <h5 class="post-content-product-description fw-bold">Mô tả chi tiết :</h5>
                @if (Model.Product.Content != null)
                {
                    @Html.Raw(Model.Product.Content)
                }
                else
                {
                    <p>Chưa có thông tin mô tả chi tiết</p>
                }

            </div>

            <div class="mt-3 similar product">
                <h5 class="similar-product-title fw-bold">Sản phẩm tương tự :</h5>
            </div>
            @await Component.InvokeAsync("GirdCardProduct" ,Model.Products)
        </div>
        
        <div class="col-md-3">
            <partial name="_EndowPartial" />
            @await Component.InvokeAsync("OutstandingProduct")
        </div>
    </div>

</div>

@section OffcanvaGroups{
    @await Component.InvokeAsync("OffcanvaGroups", Model.Product.Category?.Slug)
}

<partial name="_HotLinePartial" />

@section Scripts{

    <partial name="_ValidationScriptsPartial" />
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script src="~/js/search-index.js"></script>
    <script src="~/js/zoom-img.js"></script>
}